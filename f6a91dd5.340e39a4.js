(window.webpackJsonp=window.webpackJsonp||[]).push([[98],{154:function(e,t,r){"use strict";r.r(t),r.d(t,"frontMatter",(function(){return i})),r.d(t,"metadata",(function(){return l})),r.d(t,"rightToc",(function(){return s})),r.d(t,"default",(function(){return p}));var n=r(2),o=r(6),a=(r(0),r(163)),i={title:"Installing Stryker in pipelines",custom_edit_url:"https://github.com/stryker-mutator/stryker-net/edit/master/docs/Stryker-in-pipeline.md"},l={unversionedId:"stryker-net/Stryker-in-pipeline",id:"stryker-net/Stryker-in-pipeline",isDocsHomePage:!1,title:"Installing Stryker in pipelines",description:"When running stryker in your pipeline there are some things to take into consideration",source:"@site/docs/stryker-net/Stryker-in-pipeline.md",slug:"/stryker-net/Stryker-in-pipeline",permalink:"/docs/stryker-net/Stryker-in-pipeline",editUrl:"https://github.com/stryker-mutator/stryker-net/edit/master/docs/Stryker-in-pipeline.md",version:"current",sidebar:"docs",previous:{title:"Reporters",permalink:"/docs/stryker-net/Reporters"},next:{title:"Configuration",permalink:"/docs/stryker4s/configuration"}},s=[{value:"Configuring dashboard compare in pull requests",id:"configuring-dashboard-compare-in-pull-requests",children:[]}],c={rightToc:s};function p(e){var t=e.components,r=Object(o.a)(e,["components"]);return Object(a.b)("wrapper",Object(n.a)({},c,r,{components:t,mdxType:"MDXLayout"}),Object(a.b)("p",null,"When running stryker in your pipeline there are some things to take into consideration"),Object(a.b)("p",null,"Due to the way dotnet core global tools are installed on the system a regular ",Object(a.b)("inlineCode",{parentName:"p"},"dotnet tool install -g")," is often not effective in pipelines."),Object(a.b)("p",null,"Instead use the ",Object(a.b)("inlineCode",{parentName:"p"},"--tool-path")," to install stryker in a local folder or use the project level install of dotnet core 3.0+"),Object(a.b)("p",null,"Example for installing in azure devops:"),Object(a.b)("pre",null,Object(a.b)("code",Object(n.a)({parentName:"pre"},{className:"language-yaml"}),"- task: DotNetCoreCLI@2\n    displayName: 'Install dotnet-stryker'\n    inputs:\n      command: custom\n      custom: tool\n      arguments: install dotnet-stryker --tool-path $(Agent.BuildDirectory)/tools\n")),Object(a.b)("p",null,"And then running this locally installed tool:"),Object(a.b)("pre",null,Object(a.b)("code",Object(n.a)({parentName:"pre"},{className:"language-yaml"}),"- task: Powershell@2\n    displayName: 'Run dotnet-stryker'\n    inputs:\n      workingDirectory: <test-project-folder-here>\n      targetType: 'inline'\n      pwsh: true\n      script: $(Agent.BuildDirectory)/tools/dotnet-stryker\n")),Object(a.b)("h2",{id:"configuring-dashboard-compare-in-pull-requests"},"Configuring dashboard compare in pull requests"),Object(a.b)("p",null,"Dashboard compare is very useful when running stryker in pipelines because it cuts down on the total runtime by only testing mutations that have changed compared to for example master\nThe following minimal steps are needed to use dashboard compare"),Object(a.b)("ol",null,Object(a.b)("li",{parentName:"ol"},"Enable --dashboard-compare "),Object(a.b)("li",{parentName:"ol"},"Choose a storage provider (Dashboard for public projects or Azure File Share for private projects)"),Object(a.b)("li",{parentName:"ol"},"Set up authentication for the chosen storage provider "),Object(a.b)("li",{parentName:"ol"},"Set --dashboard-version to the name of the source branch (usually current branch)"),Object(a.b)("li",{parentName:"ol"},"Set --git-source to the name of the target branch (usually master/main or development)"),Object(a.b)("li",{parentName:"ol"},"Set any other options needed for your chosen storage provider (see: ",Object(a.b)("a",Object(n.a)({parentName:"li"},{href:"/docs/stryker-net/Configuration"}),"Configuration"),")")),Object(a.b)("p",null,"Example for azure devops with dashboard storage provider:"),Object(a.b)("pre",null,Object(a.b)("code",Object(n.a)({parentName:"pre"},{}),"dotnet stryker --dashboard-compare --baseline-storage-location Dashboard --dashboard-api-key $(Stryker.Dashboard.Api.Key)--dashboard-version $(System.PullRequest.SourceBranch) --git-source $(System.PullRequest.TargetBranch)\ndotnet stryker -compare -bsl Dashboard -dk $(Stryker.Dashboard.Api.Key)-version $(System.PullRequest.SourceBranch) -source $(System.PullRequest.TargetBranch)\n")))}p.isMDXComponent=!0},163:function(e,t,r){"use strict";r.d(t,"a",(function(){return u})),r.d(t,"b",(function(){return m}));var n=r(0),o=r.n(n);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var c=o.a.createContext({}),p=function(e){var t=o.a.useContext(c),r=t;return e&&(r="function"==typeof e?e(t):l(l({},t),e)),r},u=function(e){var t=p(e.components);return o.a.createElement(c.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return o.a.createElement(o.a.Fragment,{},t)}},b=o.a.forwardRef((function(e,t){var r=e.components,n=e.mdxType,a=e.originalType,i=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),u=p(r),b=n,m=u["".concat(i,".").concat(b)]||u[b]||d[b]||a;return r?o.a.createElement(m,l(l({ref:t},c),{},{components:r})):o.a.createElement(m,l({ref:t},c))}));function m(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var a=r.length,i=new Array(a);i[0]=b;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:n,i[1]=l;for(var c=2;c<a;c++)i[c]=r[c];return o.a.createElement.apply(null,i)}return o.a.createElement.apply(null,r)}b.displayName="MDXCreateElement"}}]);