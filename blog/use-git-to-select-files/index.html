<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.66">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Stryker Mutator Blog RSS Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-104444094-1","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script><title data-react-helmet="true">Use git to select files | Stryker Mutator</title><meta data-react-helmet="true" property="og:title" content="Use git to select files | Stryker Mutator"><meta data-react-helmet="true" name="description" content="The 0.21 release of Stryker simplifies configuration by using your git database."><meta data-react-helmet="true" property="og:description" content="The 0.21 release of Stryker simplifies configuration by using your git database."><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_language" content="en"><meta data-react-helmet="true" name="docusaurus_tag" content="default"><link data-react-helmet="true" rel="shortcut icon" href="/images/favicon.ico"><link rel="stylesheet" href="/styles.368c3a53.css">
<link rel="preload" href="/styles.7711c8b3.js" as="script">
<link rel="preload" href="/runtime~main.6d42b30f.js" as="script">
<link rel="preload" href="/main.bc11b46c.js" as="script">
<link rel="preload" href="/1.1277d7b0.js" as="script">
<link rel="preload" href="/2.8dd79ee7.js" as="script">
<link rel="preload" href="/3.261956d4.js" as="script">
<link rel="preload" href="/ccc49370.8b0431d5.js" as="script">
<link rel="preload" href="/a32dca28.5b48639c.js" as="script">
<link rel="preload" href="/7febebc1.36799326.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img class="navbar__logo" src="/images/stryker.svg" alt="Stryker Mutator Logo"><strong class="navbar__title">Stryker Mutator</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog</a><a class="navbar__item navbar__link" href="/docs/stryker/introduction">For JavaScript</a><a class="navbar__item navbar__link" href="/docs/stryker-net/Introduction">For C#</a><a class="navbar__item navbar__link" href="/docs/stryker4s/getting-started">For Scala</a><a class="navbar__item navbar__link" href="/docs/General/example">An example</a></div><div class="navbar__items navbar__items--right"><a href="https://dashboard.stryker-mutator.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Dashboard</a><a href="https://github.com/stryker-mutator/stryker-mutator.github.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img class="navbar__logo" src="/images/stryker.svg" alt="Stryker Mutator Logo"><strong class="navbar__title">Stryker Mutator</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/blog">Blog</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/stryker/introduction">For JavaScript</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/stryker-net/Introduction">For C#</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/stryker4s/getting-started">For Scala</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/General/example">An example</a></li><li class="menu__list-item"><a href="https://dashboard.stryker-mutator.io" target="_blank" rel="noopener noreferrer" class="menu__link">Dashboard</a></li><li class="menu__list-item"><a href="https://github.com/stryker-mutator/stryker-mutator.github.io" target="_blank" rel="noopener noreferrer" class="menu__link header-github-link" aria-label="GitHub repository"></a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="container margin-vert--lg"><div class="row"><div class="col col--2"><div class="sidebar_3I7I"><h3 class="sidebarItemTitle_2Dv3">Recent posts</h3><ul class="sidebarItemList_1RlG"><li class="sidebarItem_Hxgp"><a class="sidebarItemLink_3ppv" href="/blog/announcing-stryker-4-mutation-switching">Announcing Stryker 4.0 - Mutation Switching</a></li><li class="sidebarItem_Hxgp"><a class="sidebarItemLink_3ppv" href="/blog/announcing-stryker-4-beta-mutation-switching">Announcing Stryker 4.0 Beta</a></li><li class="sidebarItem_Hxgp"><a class="sidebarItemLink_3ppv" href="/blog/azure-pipelines-integration">Integrating Stryker.NET in your azure pipelines</a></li><li class="sidebarItem_Hxgp"><a class="sidebarItemLink_3ppv" href="/blog/announcing-100-mode">Announcing Stryker 100% mode</a></li><li class="sidebarItem_Hxgp"><a class="sidebarItemLink_3ppv" href="/blog/stryker-version-3">Announcing Stryker 3.0</a></li></ul></div></div><div class="col col--8"><article><header><h1 class="margin-bottom--sm blogPostTitle_1mse">Use git to select files</h1><div class="margin-vert--md"><time datetime="2018-04-04T00:00:00.000Z" class="blogPostDate_3bQP">April 4, 2018  Â· 3 min read</time></div><div class="avatar margin-vert--md"><a class="avatar__photo-link avatar__photo" href="https://github.com/nicojs" target="_blank" rel="noreferrer noopener"><img src="https://avatars3.githubusercontent.com/u/1828233?s=400&amp;u=fec18ad3776aaafec54c49bbd7173a841ae7ea59&amp;v=4" alt="Nico Jansen"></a><div class="avatar__intro"><h4 class="avatar__name"><a href="https://github.com/nicojs" target="_blank" rel="noreferrer noopener">Nico Jansen</a></h4><small class="avatar__subtitle">Stryker Team</small></div></div></header><section class="markdown"><p>The 0.21 release of Stryker simplifies configuration by using your git database.</p><p>For a change log per package:</p><ul><li><a href="https://github.com/stryker-mutator/stryker/blob/master/packages/stryker/CHANGELOG.md" target="_blank" rel="noopener noreferrer">stryker changelog</a></li><li><a href="https://github.com/stryker-mutator/stryker/blob/master/packages/stryker-api/CHANGELOG.md" target="_blank" rel="noopener noreferrer">stryker-api changelog</a></li><li><a href="https://github.com/stryker-mutator/stryker/blob/master/packages/stryker-mocha-runner/CHANGELOG.md" target="_blank" rel="noopener noreferrer">stryker-mocha-runner changelog</a></li><li><a href="https://github.com/stryker-mutator/stryker/blob/master/packages/stryker-karma-runner/CHANGELOG.md" target="_blank" rel="noopener noreferrer">stryker-karma-runner changelog</a></li><li><a href="https://github.com/stryker-mutator/stryker/blob/master/packages/stryker-typescript/CHANGELOG.md" target="_blank" rel="noopener noreferrer">stryker-typescript changelog</a></li><li><a href="https://github.com/stryker-mutator/stryker/blob/master/packages/stryker-webpack-transpiler/CHANGELOG.md" target="_blank" rel="noopener noreferrer">stryker-webpack-transpiler changelog</a></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="sandboxes"></a>Sandboxes<a aria-hidden="true" tabindex="-1" class="hash-link" href="#sandboxes" title="Direct link to heading">#</a></h2><p>Stryker only works on copies of your source code. A copy is called a <em>sandbox</em>. It creates as much of them as you want parallel test runners.
You don&#x27;t want a big sandbox. Just imagine what would happen if all your node_modules end up in there! That&#x27;s why Stryker allows you to configure
the files to load into it.</p><p>One of the most common issues in <a href="https://github.com/stryker-mutator/stryker/issues" target="_blank" rel="noopener noreferrer">our issue tracker</a> has to do with
the way you needed to configure it using the <code>files</code> configuration. It was very confusing. The fact that stryker-karma-runner (pre 0.13) and stryker-typescript (pre 0.10)
modified your files array (without you knowing it) only added to the complexity.
Just <a href="https://github.com/nicojs/angular-stryker-example/blob/72d85e19657247a77faa8e12587d3d301147b2bd/stryker.conf.js#L6" target="_blank" rel="noopener noreferrer">a small look at the angular example file</a>
will leave you scratching your head.</p><p>Further more, you had properties like <code>included</code>, <code>transpiled</code> and <code>mutated</code>. It was kind of a mess really.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="remove-your-files-configuration"></a>Remove your <code>files</code> configuration<a aria-hidden="true" tabindex="-1" class="hash-link" href="#remove-your-files-configuration" title="Direct link to heading">#</a></h2><p>No longer! From release 0.21 of Stryker, the files array is <em>optional</em>. Please remove it. Everything should work as expected.
Stryker will fallback to a sane default: your git database. It does this by executing the following command:
<code>git ls-files --others --exclude-standard --cached</code>. The result should be exactly what you want in your sandbox
(given you&#x27;re using <code>.gitignore</code> files like a boss). If you want to deviate from this for whatever reason,
you can still use the <code>files</code> property with an array of strings.</p><p>Stryker also stopped keeping track of <code>included</code>, <code>transpiled</code> and <code>mutated</code> properties. For <code>mutate</code> please use the
designated <a href="https://github.com/stryker-mutator/stryker/tree/master/packages/stryker#source-code-files-to-mutate" target="_blank" rel="noopener noreferrer"><code>mutate</code> top level stryker property</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="breaking-change"></a>Breaking change!<a aria-hidden="true" tabindex="-1" class="hash-link" href="#breaking-change" title="Direct link to heading">#</a></h2><p>Unfortunately we couldn&#x27;t create this feature without some breaking changes. The biggest one is that we&#x27;ve had to remove the old
<code>InputFileDescriptor</code> object way of defining your input file.</p><p>This:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div class="prism-code language-js codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// DEPRECATED</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">files</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> pattern</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;pattern&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> included</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> mutated</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> transpiled</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div></div></div><p>Is deprecated. If you are using it we strongly suggest to try to remove <code>files</code> entirely.</p><p>We&#x27;ve had to update the API to test runner plugins and transpiler plugins as well. Before, Stryker was keeping track of which file
needed to be included in the test runner or transpiled by the transpiler. This is
no longer the case. To see what this means for you, please consult the readme of the plugins you are using:</p><ul><li><a href="https://github.com/stryker-mutator/stryker/blob/master/packages/stryker-mocha-runner/README.md" target="_blank" rel="noopener noreferrer">stryker-mocha-runner readme</a></li><li><a href="https://github.com/stryker-mutator/stryker/blob/master/packages/stryker-karma-runner/README.md" target="_blank" rel="noopener noreferrer">stryker-karma-runner readme</a></li><li><a href="https://github.com/stryker-mutator/stryker/blob/master/packages/stryker-typescript/README.md" target="_blank" rel="noopener noreferrer">stryker-typescript readme</a></li><li><a href="https://github.com/stryker-mutator/stryker/blob/master/packages/stryker-webpack-transpiler/README.md" target="_blank" rel="noopener noreferrer">stryker-webpack-transpiler readme</a></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="whats-next"></a>What&#x27;s next?<a aria-hidden="true" tabindex="-1" class="hash-link" href="#whats-next" title="Direct link to heading">#</a></h2><p>With this major refactoring out of the way we will hone in to our next target: an actual v1 release.
We&#x27;ve opened up <a href="https://github.com/stryker-mutator/stryker/issues/654" target="_blank" rel="noopener noreferrer">issue 654</a> to keep track of our
progress on this front. Want to help? Or curious about our plans? Please get in touch.</p></section><footer class="row margin-vert--lg"><div class="col"><strong>Tags:</strong><a class="margin-horiz--sm" href="/blog/tags/stryker">stryker</a></div></footer></article><div><a href="https://github.com/stryker-mutator/stryker-mutator.github.io/edit/develop/blog/2018-04-04-use-git-to-select-files.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="margin-vert--xl"><nav class="pagination-nav" aria-label="Blog post page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/blog/csharp-and-scala-support"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">Â« Introducing Stryker.NET and Stryker4s</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/blog/get-your-mutation-score-badge-now"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">Get your mutation score badge now! Â»</div></a></div></nav></div></div><div class="col col--2"><div class="tableOfContents_3SO_"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#sandboxes" class="table-of-contents__link">Sandboxes</a></li><li><a href="#remove-your-files-configuration" class="table-of-contents__link">Remove your <code>files</code> configuration</a></li><li><a href="#breaking-change" class="table-of-contents__link">Breaking change!</a></li><li><a href="#whats-next" class="table-of-contents__link">What&#39;s next?</a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/General/faq">FAQ</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://join.slack.com/t/stryker-mutator/shared_invite/enQtOTUyMTYyNTg1NDQ0LTU4ODNmZDlmN2I3MmEyMTVhYjZlYmJkOThlNTY3NTM1M2QxYmM5YTM3ODQxYmJjY2YyYzllM2RkMmM1NjNjZjM" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack</a></li><li class="footer__item"><a href="https://twitter.com/stryker-mutator" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/stryker-mutator/" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="text--center"><div>Stryker is released under the Apache 2.0 license. Site by the Stryker team (see GitHub). Logo by Selina van den Top.</div></div></div></footer></div>
<script src="/styles.7711c8b3.js"></script>
<script src="/runtime~main.6d42b30f.js"></script>
<script src="/main.bc11b46c.js"></script>
<script src="/1.1277d7b0.js"></script>
<script src="/2.8dd79ee7.js"></script>
<script src="/3.261956d4.js"></script>
<script src="/ccc49370.8b0431d5.js"></script>
<script src="/a32dca28.5b48639c.js"></script>
<script src="/7febebc1.36799326.js"></script>
</body>
</html>